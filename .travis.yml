language: node_js
env:
  global:
  - ENCRYPTION_LABEL: 14f59a8a5f3c
  - COMMIT_AUTHOR_EMAIL: fake@email.yml
before_install: 
 - ls
 - git clone --branch=gh-pages https://github.com/colt05/reddlisten.git 
 - cd reddlisten 
 - ls
 - npm install -g grunt-cli
 - echo "="
install: npm install
script: grunt && chmod +x deploy.sh
after_success:
 - git config user.name "Travis CI" >> /dev/null && echo set name
 - git config user.email "$COMMIT_AUTHOR_EMAIL" >> /dev/null && echo set email
 - git remote rm origin && echo removed old origin
 - git remote add origin https://colt05-ci:${GH_TOKEN}@github.com/colt05/reddlisten.git && echo added neworigin
 - git add bitlisten.min.js && echo added js file
 - git commit -m "travis build" && echo added commit
 - git push -u -f origin gh-pages && echo pushed
branches:
  only:
  - gh-pages
